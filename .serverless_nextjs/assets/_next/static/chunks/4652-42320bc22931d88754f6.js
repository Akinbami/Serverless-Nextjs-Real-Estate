(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4652],{93778:function(t,e,n){"use strict";n.d(e,{iZ:function(){return Y},HT:function(){return Z}});var r=Uint8Array,o=Uint16Array,i=Uint32Array,a=new r([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),s=new r([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),u=new r([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),h=function(t,e){for(var n=new o(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];var a=new i(n[30]);for(r=1;r<30;++r)for(var s=n[r];s<n[r+1];++s)a[s]=s-n[r]<<5|r;return[n,a]},c=h(a,2),f=c[0],l=c[1];f[28]=258,l[258]=28;for(var d=h(s,0),v=d[0],p=d[1],_=new o(32768),m=0;m<32768;++m){var y=(43690&m)>>>1|(21845&m)<<1;y=(61680&(y=(52428&y)>>>2|(13107&y)<<2))>>>4|(3855&y)<<4,_[m]=((65280&y)>>>8|(255&y)<<8)>>>1}var g=function(t,e,n){for(var r=t.length,i=0,a=new o(e);i<r;++i)++a[t[i]-1];var s,u=new o(e);for(i=0;i<e;++i)u[i]=u[i-1]+a[i-1]<<1;if(n){s=new o(1<<e);var h=15-e;for(i=0;i<r;++i)if(t[i])for(var c=i<<4|t[i],f=e-t[i],l=u[t[i]-1]++<<f,d=l|(1<<f)-1;l<=d;++l)s[_[l]>>>h]=c}else for(s=new o(r),i=0;i<r;++i)s[i]=_[u[t[i]-1]++]>>>15-t[i];return s},w=new r(288);for(m=0;m<144;++m)w[m]=8;for(m=144;m<256;++m)w[m]=9;for(m=256;m<280;++m)w[m]=7;for(m=280;m<288;++m)w[m]=8;var x=new r(32);for(m=0;m<32;++m)x[m]=5;var b=g(w,9,0),P=g(w,9,1),M=g(x,5,0),E=g(x,5,1),k=function(t){for(var e=t[0],n=1;n<t.length;++n)t[n]>e&&(e=t[n]);return e},D=function(t,e,n){var r=e/8>>0;return(t[r]|t[r+1]<<8)>>>(7&e)&n},C=function(t,e){var n=e/8>>0;return(t[n]|t[n+1]<<8|t[n+2]<<16)>>>(7&e)},O=function(t){return(t/8>>0)+(7&t&&1)},T=function(t,e,n){(null==e||e<0)&&(e=0),(null==n||n>t.length)&&(n=t.length);var a=new(t instanceof o?o:t instanceof i?i:r)(n-e);return a.set(t.subarray(e,n)),a},W=function(t,e,n){var o=t.length,i=!e||n,h=!n||n.i;n||(n={}),e||(e=new r(3*o));var c=function(t){var n=e.length;if(t>n){var o=new r(Math.max(2*n,t));o.set(e),e=o}},l=n.f||0,d=n.p||0,p=n.b||0,_=n.l,m=n.d,y=n.m,w=n.n,x=8*o;do{if(!_){n.f=l=D(t,d,1);var b=D(t,d+1,3);if(d+=3,!b){var M=t[(j=O(d)+4)-4]|t[j-3]<<8,W=j+M;if(W>o){if(h)throw"unexpected EOF";break}i&&c(p+M),e.set(t.subarray(j,W),p),n.b=p+=M,n.p=d=8*W;continue}if(1==b)_=P,m=E,y=9,w=5;else{if(2!=b)throw"invalid block type";var z=D(t,d,31)+257,L=D(t,d+10,15)+4,R=z+D(t,d+5,31)+1;d+=14;for(var U=new r(R),S=new r(19),F=0;F<L;++F)S[u[F]]=D(t,d+3*F,7);d+=3*L;var A=k(S),B=(1<<A)-1;if(!h&&d+R*(A+7)>x)break;var N=g(S,A,1);for(F=0;F<R;){var j,I=N[D(t,d,B)];if(d+=15&I,(j=I>>>4)<16)U[F++]=j;else{var q=0,H=0;for(16==j?(H=3+D(t,d,3),d+=2,q=U[F-1]):17==j?(H=3+D(t,d,7),d+=3):18==j&&(H=11+D(t,d,127),d+=7);H--;)U[F++]=q}}var V=U.subarray(0,z),G=U.subarray(z);y=k(V),w=k(G),_=g(V,y,1),m=g(G,w,1)}if(d>x)throw"unexpected EOF"}i&&c(p+131072);for(var X=(1<<y)-1,Y=(1<<w)-1,Z=y+w+18;h||d+Z<x;){var J=(q=_[C(t,d)&X])>>>4;if((d+=15&q)>x)throw"unexpected EOF";if(!q)throw"invalid length/literal";if(J<256)e[p++]=J;else{if(256==J){_=null;break}var K=J-254;if(J>264){var Q=a[F=J-257];K=D(t,d,(1<<Q)-1)+f[F],d+=Q}var $=m[C(t,d)&Y],tt=$>>>4;if(!$)throw"invalid distance";d+=15&$;G=v[tt];if(tt>3){Q=s[tt];G+=C(t,d)&(1<<Q)-1,d+=Q}if(d>x)throw"unexpected EOF";i&&c(p+131072);for(var et=p+K;p<et;p+=4)e[p]=e[p-G],e[p+1]=e[p+1-G],e[p+2]=e[p+2-G],e[p+3]=e[p+3-G];p=et}}n.l=_,n.p=d,n.b=p,_&&(l=1,n.m=y,n.d=m,n.n=w)}while(!l);return p==e.length?e:T(e,0,p)},z=function(t,e,n){n<<=7&e;var r=e/8>>0;t[r]|=n,t[r+1]|=n>>>8},L=function(t,e,n){n<<=7&e;var r=e/8>>0;t[r]|=n,t[r+1]|=n>>>8,t[r+2]|=n>>>16},R=function(t,e){for(var n=[],i=0;i<t.length;++i)t[i]&&n.push({s:i,f:t[i]});var a=n.length,s=n.slice();if(!a)return[new r(0),0];if(1==a){var u=new r(n[0].s+1);return u[n[0].s]=1,[u,1]}n.sort((function(t,e){return t.f-e.f})),n.push({s:-1,f:25001});var h=n[0],c=n[1],f=0,l=1,d=2;for(n[0]={s:-1,f:h.f+c.f,l:h,r:c};l!=a-1;)h=n[n[f].f<n[d].f?f++:d++],c=n[f!=l&&n[f].f<n[d].f?f++:d++],n[l++]={s:-1,f:h.f+c.f,l:h,r:c};var v=s[0].s;for(i=1;i<a;++i)s[i].s>v&&(v=s[i].s);var p=new o(v+1),_=U(n[l-1],p,0);if(_>e){i=0;var m=0,y=_-e,g=1<<y;for(s.sort((function(t,e){return p[e.s]-p[t.s]||t.f-e.f}));i<a;++i){var w=s[i].s;if(!(p[w]>e))break;m+=g-(1<<_-p[w]),p[w]=e}for(m>>>=y;m>0;){var x=s[i].s;p[x]<e?m-=1<<e-p[x]++-1:++i}for(;i>=0&&m;--i){var b=s[i].s;p[b]==e&&(--p[b],++m)}_=e}return[new r(p),_]},U=function(t,e,n){return-1==t.s?Math.max(U(t.l,e,n+1),U(t.r,e,n+1)):e[t.s]=n},S=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new o(++e),r=0,i=t[0],a=1,s=function(t){n[r++]=t},u=1;u<=e;++u)if(t[u]==i&&u!=e)++a;else{if(!i&&a>2){for(;a>138;a-=138)s(32754);a>2&&(s(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(s(i),--a;a>6;a-=6)s(8304);a>2&&(s(a-3<<5|8208),a=0)}for(;a--;)s(i);a=1,i=t[u]}return[n.subarray(0,r),e]},F=function(t,e){for(var n=0,r=0;r<e.length;++r)n+=t[r]*e[r];return n},A=function(t,e,n){var r=n.length,o=O(e+2);t[o]=255&r,t[o+1]=r>>>8,t[o+2]=255^t[o],t[o+3]=255^t[o+1];for(var i=0;i<r;++i)t[o+i+4]=n[i];return 8*(o+4+r)},B=function(t,e,n,r,i,h,c,f,l,d,v){z(e,v++,n),++i[256];for(var p=R(i,15),_=p[0],m=p[1],y=R(h,15),P=y[0],E=y[1],k=S(_),D=k[0],C=k[1],O=S(P),T=O[0],W=O[1],U=new o(19),B=0;B<D.length;++B)U[31&D[B]]++;for(B=0;B<T.length;++B)U[31&T[B]]++;for(var N=R(U,7),j=N[0],I=N[1],q=19;q>4&&!j[u[q-1]];--q);var H,V,G,X,Y=d+5<<3,Z=F(i,w)+F(h,x)+c,J=F(i,_)+F(h,P)+c+14+3*q+F(U,j)+(2*U[16]+3*U[17]+7*U[18]);if(Y<=Z&&Y<=J)return A(e,v,t.subarray(l,l+d));if(z(e,v,1+(J<Z)),v+=2,J<Z){H=g(_,m,0),V=_,G=g(P,E,0),X=P;var K=g(j,I,0);z(e,v,C-257),z(e,v+5,W-1),z(e,v+10,q-4),v+=14;for(B=0;B<q;++B)z(e,v+3*B,j[u[B]]);v+=3*q;for(var Q=[D,T],$=0;$<2;++$){var tt=Q[$];for(B=0;B<tt.length;++B){var et=31&tt[B];z(e,v,K[et]),v+=j[et],et>15&&(z(e,v,tt[B]>>>5&127),v+=tt[B]>>>12)}}}else H=b,V=w,G=M,X=x;for(B=0;B<f;++B)if(r[B]>255){et=r[B]>>>18&31;L(e,v,H[et+257]),v+=V[et+257],et>7&&(z(e,v,r[B]>>>23&31),v+=a[et]);var nt=31&r[B];L(e,v,G[nt]),v+=X[nt],nt>3&&(L(e,v,r[B]>>>5&8191),v+=s[nt])}else L(e,v,H[r[B]]),v+=V[r[B]];return L(e,v,H[256]),v+V[256]},N=new i([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),j=new r(0),I=function(t,e,n,u,h,c){var f=t.length,d=new r(u+f+5*(1+Math.floor(f/7e3))+h),v=d.subarray(u,d.length-h),_=0;if(!e||f<8)for(var m=0;m<=f;m+=65535){var y=m+65535;y<f?_=A(v,_,t.subarray(m,y)):(v[m]=c,_=A(v,_,t.subarray(m,f)))}else{for(var g=N[e-1],w=g>>>13,x=8191&g,b=(1<<n)-1,P=new o(32768),M=new o(b+1),E=Math.ceil(n/3),k=2*E,D=function(e){return(t[e]^t[e+1]<<E^t[e+2]<<k)&b},C=new i(25e3),W=new o(288),z=new o(32),L=0,R=0,U=(m=0,0),S=0,F=0;m<f;++m){var I=D(m),q=32767&m,H=M[I];if(P[q]=H,M[I]=q,S<=m){var V=f-m;if((L>7e3||U>24576)&&V>423){_=B(t,v,0,C,W,z,R,U,F,m-F,_),U=L=R=0,F=m;for(var G=0;G<286;++G)W[G]=0;for(G=0;G<30;++G)z[G]=0}var X=2,Y=0,Z=x,J=q-H&32767;if(V>2&&I==D(m-J))for(var K=Math.min(w,V)-1,Q=Math.min(32767,m),$=Math.min(258,V);J<=Q&&--Z&&q!=H;){if(t[m+X]==t[m+X-J]){for(var tt=0;tt<$&&t[m+tt]==t[m+tt-J];++tt);if(tt>X){if(X=tt,Y=J,tt>K)break;var et=Math.min(J,tt-2),nt=0;for(G=0;G<et;++G){var rt=m-J+G+32768&32767,ot=rt-P[rt]+32768&32767;ot>nt&&(nt=ot,H=rt)}}}J+=(q=H)-(H=P[q])+32768&32767}if(Y){C[U++]=268435456|l[X]<<18|p[Y];var it=31&l[X],at=31&p[Y];R+=a[it]+s[at],++W[257+it],++z[at],S=m+X,++L}else C[U++]=t[m],++W[t[m]]}}_=B(t,v,c,C,W,z,R,U,F,m-F,_),c||(_=A(v,_,j))}return T(d,0,u+O(_)+h)},q=function(){var t=1,e=0;return{p:function(n){for(var r=t,o=e,i=n.length,a=0;a!=i;){for(var s=Math.min(a+5552,i);a<s;++a)o+=r+=n[a];r%=65521,o%=65521}t=r,e=o},d:function(){return(t>>>8<<16|(255&e)<<8|e>>>8)+2*((255&t)<<23)}}},H=function(t,e,n,r,o){return I(t,null==e.level?6:e.level,null==e.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(t.length)))):12+e.mem,n,r,!o)},V=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8},G=function(t,e){var n=e.level,r=0==n?0:n<6?1:9==n?3:2;t[0]=120,t[1]=r<<6|(r?32-2*r:1)},X=function(t){if(8!=(15&t[0])||t[0]>>>4>7||(t[0]<<8|t[1])%31)throw"invalid zlib data";if(32&t[1])throw"invalid zlib data: preset dictionaries not supported"};function Y(t,e){void 0===e&&(e={});var n=q();n.p(t);var r=H(t,e,2,4);return G(r,e),V(r,r.length-4,n.d()),r}function Z(t,e){return W((X(t),t.subarray(2,-4)),e)}},11163:function(t,e,n){t.exports=n(72441)},58877:function(t,e,n){var r,o,i,a;t.exports=(r=n(45697),o=n(67294),i=n(20716),a=n(41400),function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return t[r].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},h=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),c=r(n(1)),f=n(2),l=r(f),d=r(n(3)),v=r(n(4)),p=function(t){function e(){var t,n,r;i(this,e);for(var s=arguments.length,u=Array(s),h=0;h<s;h++)u[h]=arguments[h];return n=r=a(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(u))),r._sigPad=null,r._excludeOurProps=function(){var t=r.props;return t.canvasProps,t.clearOnResize,o(t,["canvasProps","clearOnResize"])},r.getCanvas=function(){return r._canvas},r.getTrimmedCanvas=function(){var t=document.createElement("canvas");return t.width=r._canvas.width,t.height=r._canvas.height,t.getContext("2d").drawImage(r._canvas,0,0),(0,v.default)(t)},r.getSignaturePad=function(){return r._sigPad},r._checkClearOnResize=function(){r.props.clearOnResize&&r._resizeCanvas()},r._resizeCanvas=function(){var t=r.props.canvasProps||{},e=t.width,n=t.height;if(!e||!n){var o=r._canvas,i=Math.max(window.devicePixelRatio||1,1);e||(o.width=o.offsetWidth*i),n||(o.height=o.offsetHeight*i),o.getContext("2d").scale(i,i),r.clear()}},r.on=function(){return window.addEventListener("resize",r._checkClearOnResize),r._sigPad.on()},r.off=function(){return window.removeEventListener("resize",r._checkClearOnResize),r._sigPad.off()},r.clear=function(){return r._sigPad.clear()},r.isEmpty=function(){return r._sigPad.isEmpty()},r.fromDataURL=function(t,e){return r._sigPad.fromDataURL(t,e)},r.toDataURL=function(t,e){return r._sigPad.toDataURL(t,e)},r.fromData=function(t){return r._sigPad.fromData(t)},r.toData=function(){return r._sigPad.toData()},a(r,n)}return s(e,t),h(e,[{key:"componentDidMount",value:function(){this._sigPad=new d.default(this._canvas,this._excludeOurProps()),this._resizeCanvas(),this.on()}},{key:"componentWillUnmount",value:function(){this.off()}},{key:"componentDidUpdate",value:function(){Object.assign(this._sigPad,this._excludeOurProps())}},{key:"render",value:function(){var t=this,e=this.props.canvasProps;return l.default.createElement("canvas",u({ref:function(e){t._canvas=e}},e))}}]),e}(f.Component);p.propTypes={velocityFilterWeight:c.default.number,minWidth:c.default.number,maxWidth:c.default.number,minDistance:c.default.number,dotSize:c.default.oneOfType([c.default.number,c.default.func]),penColor:c.default.string,throttle:c.default.number,onEnd:c.default.func,onBegin:c.default.func,canvasProps:c.default.object,clearOnResize:c.default.bool},p.defaultProps={clearOnResize:!0},e.default=p},function(t,e){t.exports=r},function(t,e){t.exports=o},function(t,e){t.exports=i},function(t,e){t.exports=a}]))},20716:function(t,e,n){"use strict";function r(t,e,n){this.x=t,this.y=e,this.time=n||(new Date).getTime()}function o(t,e,n,r){this.startPoint=t,this.control1=e,this.control2=n,this.endPoint=r}function i(t,e){var n=this,r=e||{};this.velocityFilterWeight=r.velocityFilterWeight||.7,this.minWidth=r.minWidth||.5,this.maxWidth=r.maxWidth||2.5,this.throttle="throttle"in r?r.throttle:16,this.minDistance="minDistance"in r?r.minDistance:5,this.throttle?this._strokeMoveUpdate=function(t,e,n){var r,o,i,a=null,s=0;n||(n={});var u=function(){s=!1===n.leading?0:Date.now(),a=null,i=t.apply(r,o),a||(r=o=null)};return function(){var h=Date.now();s||!1!==n.leading||(s=h);var c=e-(h-s);return r=this,o=arguments,c<=0||c>e?(a&&(clearTimeout(a),a=null),s=h,i=t.apply(r,o),a||(r=o=null)):a||!1===n.trailing||(a=setTimeout(u,c)),i}}(i.prototype._strokeUpdate,this.throttle):this._strokeMoveUpdate=i.prototype._strokeUpdate,this.dotSize=r.dotSize||function(){return(this.minWidth+this.maxWidth)/2},this.penColor=r.penColor||"black",this.backgroundColor=r.backgroundColor||"rgba(0,0,0,0)",this.onBegin=r.onBegin,this.onEnd=r.onEnd,this._canvas=t,this._ctx=t.getContext("2d"),this.clear(),this._handleMouseDown=function(t){1===t.which&&(n._mouseButtonDown=!0,n._strokeBegin(t))},this._handleMouseMove=function(t){n._mouseButtonDown&&n._strokeMoveUpdate(t)},this._handleMouseUp=function(t){1===t.which&&n._mouseButtonDown&&(n._mouseButtonDown=!1,n._strokeEnd(t))},this._handleTouchStart=function(t){if(1===t.targetTouches.length){var e=t.changedTouches[0];n._strokeBegin(e)}},this._handleTouchMove=function(t){t.preventDefault();var e=t.targetTouches[0];n._strokeMoveUpdate(e)},this._handleTouchEnd=function(t){t.target===n._canvas&&(t.preventDefault(),n._strokeEnd(t))},this.on()}n.r(e),r.prototype.velocityFrom=function(t){return this.time!==t.time?this.distanceTo(t)/(this.time-t.time):1},r.prototype.distanceTo=function(t){return Math.sqrt(Math.pow(this.x-t.x,2)+Math.pow(this.y-t.y,2))},r.prototype.equals=function(t){return this.x===t.x&&this.y===t.y&&this.time===t.time},o.prototype.length=function(){for(var t=0,e=void 0,n=void 0,r=0;r<=10;r+=1){var o=r/10,i=this._point(o,this.startPoint.x,this.control1.x,this.control2.x,this.endPoint.x),a=this._point(o,this.startPoint.y,this.control1.y,this.control2.y,this.endPoint.y);if(r>0){var s=i-e,u=a-n;t+=Math.sqrt(s*s+u*u)}e=i,n=a}return t},o.prototype._point=function(t,e,n,r,o){return e*(1-t)*(1-t)*(1-t)+3*n*(1-t)*(1-t)*t+3*r*(1-t)*t*t+o*t*t*t},i.prototype.clear=function(){var t=this._ctx,e=this._canvas;t.fillStyle=this.backgroundColor,t.clearRect(0,0,e.width,e.height),t.fillRect(0,0,e.width,e.height),this._data=[],this._reset(),this._isEmpty=!0},i.prototype.fromDataURL=function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=new Image,o=n.ratio||window.devicePixelRatio||1,i=n.width||this._canvas.width/o,a=n.height||this._canvas.height/o;this._reset(),r.src=t,r.onload=function(){e._ctx.drawImage(r,0,0,i,a)},this._isEmpty=!1},i.prototype.toDataURL=function(t){var e;switch(t){case"image/svg+xml":return this._toSVG();default:for(var n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return(e=this._canvas).toDataURL.apply(e,[t].concat(r))}},i.prototype.on=function(){this._handleMouseEvents(),this._handleTouchEvents()},i.prototype.off=function(){this._canvas.removeEventListener("mousedown",this._handleMouseDown),this._canvas.removeEventListener("mousemove",this._handleMouseMove),document.removeEventListener("mouseup",this._handleMouseUp),this._canvas.removeEventListener("touchstart",this._handleTouchStart),this._canvas.removeEventListener("touchmove",this._handleTouchMove),this._canvas.removeEventListener("touchend",this._handleTouchEnd)},i.prototype.isEmpty=function(){return this._isEmpty},i.prototype._strokeBegin=function(t){this._data.push([]),this._reset(),this._strokeUpdate(t),"function"===typeof this.onBegin&&this.onBegin(t)},i.prototype._strokeUpdate=function(t){var e=t.clientX,n=t.clientY,r=this._createPoint(e,n),o=this._data[this._data.length-1],i=o&&o[o.length-1],a=i&&r.distanceTo(i)<this.minDistance;if(!i||!a){var s=this._addPoint(r),u=s.curve,h=s.widths;u&&h&&this._drawCurve(u,h.start,h.end),this._data[this._data.length-1].push({x:r.x,y:r.y,time:r.time,color:this.penColor})}},i.prototype._strokeEnd=function(t){var e=this.points.length>2,n=this.points[0];if(!e&&n&&this._drawDot(n),n){var r=this._data[this._data.length-1],o=r[r.length-1];n.equals(o)||r.push({x:n.x,y:n.y,time:n.time,color:this.penColor})}"function"===typeof this.onEnd&&this.onEnd(t)},i.prototype._handleMouseEvents=function(){this._mouseButtonDown=!1,this._canvas.addEventListener("mousedown",this._handleMouseDown),this._canvas.addEventListener("mousemove",this._handleMouseMove),document.addEventListener("mouseup",this._handleMouseUp)},i.prototype._handleTouchEvents=function(){this._canvas.style.msTouchAction="none",this._canvas.style.touchAction="none",this._canvas.addEventListener("touchstart",this._handleTouchStart),this._canvas.addEventListener("touchmove",this._handleTouchMove),this._canvas.addEventListener("touchend",this._handleTouchEnd)},i.prototype._reset=function(){this.points=[],this._lastVelocity=0,this._lastWidth=(this.minWidth+this.maxWidth)/2,this._ctx.fillStyle=this.penColor},i.prototype._createPoint=function(t,e,n){var o=this._canvas.getBoundingClientRect();return new r(t-o.left,e-o.top,n||(new Date).getTime())},i.prototype._addPoint=function(t){var e=this.points;if(e.push(t),e.length>2){3===e.length&&e.unshift(e[0]);var n=this._calculateCurveControlPoints(e[0],e[1],e[2]).c2,r=this._calculateCurveControlPoints(e[1],e[2],e[3]).c1,i=new o(e[1],n,r,e[2]),a=this._calculateCurveWidths(i);return e.shift(),{curve:i,widths:a}}return{}},i.prototype._calculateCurveControlPoints=function(t,e,n){var o=t.x-e.x,i=t.y-e.y,a=e.x-n.x,s=e.y-n.y,u=(t.x+e.x)/2,h=(t.y+e.y)/2,c=(e.x+n.x)/2,f=(e.y+n.y)/2,l=Math.sqrt(o*o+i*i),d=Math.sqrt(a*a+s*s),v=d/(l+d),p=c+(u-c)*v,_=f+(h-f)*v,m=e.x-p,y=e.y-_;return{c1:new r(u+m,h+y),c2:new r(c+m,f+y)}},i.prototype._calculateCurveWidths=function(t){var e=t.startPoint,n=t.endPoint,r={start:null,end:null},o=this.velocityFilterWeight*n.velocityFrom(e)+(1-this.velocityFilterWeight)*this._lastVelocity,i=this._strokeWidth(o);return r.start=this._lastWidth,r.end=i,this._lastVelocity=o,this._lastWidth=i,r},i.prototype._strokeWidth=function(t){return Math.max(this.maxWidth/(t+1),this.minWidth)},i.prototype._drawPoint=function(t,e,n){var r=this._ctx;r.moveTo(t,e),r.arc(t,e,n,0,2*Math.PI,!1),this._isEmpty=!1},i.prototype._drawCurve=function(t,e,n){var r=this._ctx,o=n-e,i=Math.floor(t.length());r.beginPath();for(var a=0;a<i;a+=1){var s=a/i,u=s*s,h=u*s,c=1-s,f=c*c,l=f*c,d=l*t.startPoint.x;d+=3*f*s*t.control1.x,d+=3*c*u*t.control2.x,d+=h*t.endPoint.x;var v=l*t.startPoint.y;v+=3*f*s*t.control1.y,v+=3*c*u*t.control2.y,v+=h*t.endPoint.y;var p=e+h*o;this._drawPoint(d,v,p)}r.closePath(),r.fill()},i.prototype._drawDot=function(t){var e=this._ctx,n="function"===typeof this.dotSize?this.dotSize():this.dotSize;e.beginPath(),this._drawPoint(t.x,t.y,n),e.closePath(),e.fill()},i.prototype._fromData=function(t,e,n){for(var o=0;o<t.length;o+=1){var i=t[o];if(i.length>1)for(var a=0;a<i.length;a+=1){var s=i[a],u=new r(s.x,s.y,s.time),h=s.color;if(0===a)this.penColor=h,this._reset(),this._addPoint(u);else if(a!==i.length-1){var c=this._addPoint(u),f=c.curve,l=c.widths;f&&l&&e(f,l,h)}}else this._reset(),n(i[0])}},i.prototype._toSVG=function(){var t=this,e=this._data,n=this._canvas,r=Math.max(window.devicePixelRatio||1,1),o=n.width/r,i=n.height/r,a=document.createElementNS("http://www.w3.org/2000/svg","svg");a.setAttributeNS(null,"width",n.width),a.setAttributeNS(null,"height",n.height),this._fromData(e,(function(t,e,n){var r=document.createElement("path");if(!isNaN(t.control1.x)&&!isNaN(t.control1.y)&&!isNaN(t.control2.x)&&!isNaN(t.control2.y)){var o="M "+t.startPoint.x.toFixed(3)+","+t.startPoint.y.toFixed(3)+" C "+t.control1.x.toFixed(3)+","+t.control1.y.toFixed(3)+" "+t.control2.x.toFixed(3)+","+t.control2.y.toFixed(3)+" "+t.endPoint.x.toFixed(3)+","+t.endPoint.y.toFixed(3);r.setAttribute("d",o),r.setAttribute("stroke-width",(2.25*e.end).toFixed(3)),r.setAttribute("stroke",n),r.setAttribute("fill","none"),r.setAttribute("stroke-linecap","round"),a.appendChild(r)}}),(function(e){var n=document.createElement("circle"),r="function"===typeof t.dotSize?t.dotSize():t.dotSize;n.setAttribute("r",r),n.setAttribute("cx",e.x),n.setAttribute("cy",e.y),n.setAttribute("fill",e.color),a.appendChild(n)}));var s='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 '+o+" "+i+'" width="'+o+'" height="'+i+'">',u=a.innerHTML;if(void 0===u){var h=document.createElement("dummy"),c=a.childNodes;h.innerHTML="";for(var f=0;f<c.length;f+=1)h.appendChild(c[f].cloneNode(!0));u=h.innerHTML}return"data:image/svg+xml;base64,"+btoa(s+u+"</svg>")},i.prototype.fromData=function(t){var e=this;this.clear(),this._fromData(t,(function(t,n){return e._drawCurve(t,n.start,n.end)}),(function(t){return e._drawDot(t)})),this._data=t},i.prototype.toData=function(){return this._data},e.default=i},41400:function(t){t.exports=function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return t[r].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e){"use strict";function n(t){var e=t.getContext("2d"),n=t.width,r=t.height,o=e.getImageData(0,0,n,r).data,s=i(!0,n,r,o),u=i(!1,n,r,o),h=a(!0,n,r,o),c=a(!1,n,r,o)-h+1,f=u-s+1,l=e.getImageData(h,s,c,f);return t.width=c,t.height=f,e.clearRect(0,0,c,f),e.putImageData(l,0,0),t}function r(t,e,n,r){return{red:r[4*(n*e+t)],green:r[4*(n*e+t)+1],blue:r[4*(n*e+t)+2],alpha:r[4*(n*e+t)+3]}}function o(t,e,n,o){return r(t,e,n,o).alpha}function i(t,e,n,r){for(var i=t?1:-1,a=t?0:n-1;t?a<n:a>-1;a+=i)for(var s=0;s<e;s++)if(o(s,a,e,r))return a;return null}function a(t,e,n,r){for(var i=t?1:-1,a=t?0:e-1;t?a<e:a>-1;a+=i)for(var s=0;s<n;s++)if(o(a,s,e,r))return a;return null}Object.defineProperty(e,"__esModule",{value:!0}),e.default=n}])}}]);