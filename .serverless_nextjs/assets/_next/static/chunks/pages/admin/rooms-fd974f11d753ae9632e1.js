(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9258],{43674:function(e,s,t){"use strict";var n=t(85893),a=t(80018),l=t(96156),o=t(67294),r=(t(41664),t(25675),t(90044)),c=(t(9008),t(11163));function i(e,s){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);s&&(n=n.filter((function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable}))),t.push.apply(t,n)}return t}function d(e){for(var s=1;s<arguments.length;s++){var t=null!=arguments[s]?arguments[s]:{};s%2?i(Object(t),!0).forEach((function(s){(0,l.Z)(e,s,t[s])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(t,s))}))}return e}var m=[{name:"Number",selector:"number",sortable:!0},{name:"Type",selector:"type",sortable:!0,editable:!0},{name:"Specialty",selector:"specialty",sortable:!0,editable:!0,cell:function(e){return(0,n.jsx)("p",{children:e.specialty?"YES":"NO"})}},{name:"Taken",selector:"taken",sortable:!0,editable:!0,cell:function(e){return(0,n.jsx)("p",{children:e.taken?"YES":"NO"})}},{name:"Floor",selector:"floor",sortable:!0},{name:"CreatedAt",selector:"createdAt",sortable:!0}],u=function(e){var s=e.row,t=e.index,a=e.column,l=e.col,r=e.onChange,c=(0,o.useState)(s[a.selector]),i=c[0],d=c[1];return null!==a&&void 0!==a&&a.editing?(0,n.jsx)("input",{type:a.type||"text",name:a.selector,style:{width:"100%"},onChange:function(e){d(e.target.value),null===r||void 0===r||r(e)},value:i}):l.cell?l.cell(s,t,a):s[a.selector]};s.Z=function(e){var s=(0,o.useState)(!0),t=(s[0],s[1],(0,o.useState)(null)),i=t[0],x=t[1],j=(0,o.useState)(!1),p=(j[0],j[1]),b=(0,c.useRouter)(),h=(0,o.useState)(e.rooms),f=h[0],g=h[1],N=(0,o.useState)(""),v=N[0],y=N[1],w=(0,o.useRef)({}).current,O=function(e){return e._id===v},S=e.token,k=function(e){var s=e.target.name,t=e.target.value;w=d(d({},w),{},(0,l.Z)({},s,t))},C=function(){y("")},_=m.map((function(e){return e.editable?d(d({},e),{},{cell:function(s,t,a){var l=O(s);return(0,n.jsx)(u,{row:s,index:t,column:d(d({},a),{},{editing:l}),col:e,onChange:k})}}):e})),E=(0,o.useCallback)((function(){return[].concat((0,a.Z)(_),[{name:"Actions",allowOverflow:!0,minWidth:"200px",cell:function(e){return O(e)?(0,n.jsxs)("div",{children:[(0,n.jsx)("button",{type:"button",onClick:function(){return function(e){var s=d(d({},e),w),t=(0,a.Z)(f),n=t.findIndex((function(e){return v===e._id}));if(n>-1){var l=t[n];t.splice(n,1,d(d({},l),s)),y(""),g(t),console.log("this is the temporary payload: ",s),fetch("https://gtdo2np6f2.execute-api.us-east-1.amazonaws.com/dev"+"/rooms/".concat(s._id),{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json",authorization:"Bearer "+S},body:JSON.stringify(s)}).then((function(e){return e.json()})).then((function(e){console.log(e),p(!1),e.error?(p(!1),x(e.message)):(p(!1),b.reload(window.location.pathname))})).catch((function(e){p(!1),x(e.message)}))}}(e)},style:{backgroundColor:"lightgreen"},children:"save"}),(0,n.jsx)("button",{type:"button",onClick:C,style:{backgroundColor:"orangered"},children:"cancel"})]}):(0,n.jsx)("button",{type:"button",onClick:function(){y(e._id)},className:"btn btn-primary btn-room-edit",children:"Edit"})}}])}),[_]);return(0,n.jsxs)(o.Fragment,{children:[i?(0,n.jsx)("p",{className:"text-danger",children:i}):"",(0,n.jsx)(r.ZP,{title:"All Rooms",columns:E(),data:f,selectableRows:!0,Clicked:!0,highlightOnHover:!0,striped:!0,onSelectedRowsChange:function(e){console.log("Selected Rows: ",e.selectedRows)},pagination:!0})]})}},40956:function(e,s,t){"use strict";t.r(s),t.d(s,{__N_SSP:function(){return j}});var n=t(85893),a=t(65988),l=t(9008),o=(t(41664),t(25675),t(87428)),r=t(11163),c=t(67294),i=t(8126),d=t(21727),m=t(43674),u=t(85789),x=t(85677);i.Z.addLocale(d);new i.Z("en-US");var j=!0;s.default=function(e){var s=(0,c.useState)(!1),t=s[0],i=s[1],d=(0,c.useState)(null),j=d[0],p=d[1],b=(0,c.useState)(null),h=b[0],f=b[1],g=(0,c.useState)(!1),N=g[0],v=g[1],y=(0,r.useRouter)(),w=function(){return v(!N)},O=e.token,S=e.rooms.data.docs;return(0,n.jsxs)(o.Z,{children:[(0,n.jsx)(l.default,{children:(0,n.jsx)("link",{href:"/css/sidebar.css",rel:"stylesheet",className:"jsx-4262498705"})}),(0,n.jsxs)("div",{className:"jsx-4262498705 row",children:[(0,n.jsx)("div",{className:"jsx-4262498705 col-md-2",children:(0,n.jsx)(u.Z,{})}),(0,n.jsx)("div",{className:"jsx-4262498705 col-md-10",children:(0,n.jsxs)("div",{className:"jsx-4262498705 admin-dashboard-content",children:[(0,n.jsxs)("div",{className:"jsx-4262498705 d-flex justify-content-between",children:[(0,n.jsx)("p",{className:"jsx-4262498705 admin-dashboard-content-header",children:"Rooms"}),(0,n.jsxs)("p",{className:"jsx-4262498705",children:[(0,n.jsxs)("button",{type:"button",onClick:w,"data-bs-toggle":"modal","data-bs-target":"#exampleModal",className:"jsx-4262498705 btn btn-primary btn-add-room",children:[(0,n.jsx)("img",{src:"/img/PlusCircle.png",width:"20",className:"jsx-4262498705"})," ",(0,n.jsx)("span",{className:"jsx-4262498705 px-1",children:"Add room"}),"   "]}),(0,n.jsx)(x.Z,{isOpen:N,toggle:w,centered:!0,children:(0,n.jsx)("div",{className:"jsx-4262498705 modal-dialog m-0",children:(0,n.jsxs)("div",{className:"jsx-4262498705 modal-content",children:[(0,n.jsxs)("div",{className:"jsx-4262498705 modal-header",children:[(0,n.jsx)("p",{id:"exampleModalLabel",className:"jsx-4262498705 modal-title",children:"Add Room"}),(0,n.jsx)("button",{type:"button","data-bs-dismiss":"modal","aria-label":"Close",onClick:w,className:"jsx-4262498705 btn-close"})]}),(0,n.jsx)("div",{className:"jsx-4262498705 modal-body",children:h?(0,n.jsx)("h3",{className:"jsx-4262498705 w-75 mx-auto",children:h}):(0,n.jsxs)("form",{onSubmit:function(e){e.preventDefault(),i(!0);var s={type:e.target.roomtype.value,number:e.target.number.value,floor:e.target.floor.value,specialty:e.target.specialty.value};fetch("https://gtdo2np6f2.execute-api.us-east-1.amazonaws.com/dev/rooms",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",authorization:"Bearer "+O},body:JSON.stringify(s)}).then((function(e){return e.json()})).then((function(e){console.log(e),i(!1),e.error?(i(!1),p(e.message)):(i(!1),f(e.message),y.reload(window.location.pathname))})).catch((function(e){i(!1),p(e.message)}))},className:"jsx-4262498705",children:[(0,n.jsxs)("div",{className:"jsx-4262498705 mb-3",children:[(0,n.jsx)("label",{for:"number",className:"jsx-4262498705 form-label login-form-label",children:"Room Number*"}),(0,n.jsx)("input",{type:"text",id:"number","aria-describedby":"phoneHelp",name:"number",className:"jsx-4262498705 form-control"})]}),(0,n.jsxs)("div",{className:"jsx-4262498705 mb-3",children:[(0,n.jsx)("label",{for:"roomtype",className:"jsx-4262498705 form-label login-form-label",children:"Room Type*"}),(0,n.jsxs)("select",{"aria-label":"Default select example",name:"roomtype",className:"jsx-4262498705 form-select",children:[(0,n.jsx)("option",{selected:!0,className:"jsx-4262498705",children:"--select--"}),(0,n.jsx)("option",{value:"1 Man",className:"jsx-4262498705",children:"1 Man Room"}),(0,n.jsx)("option",{value:"2 Man",className:"jsx-4262498705",children:"2 Man Room"}),(0,n.jsx)("option",{value:"4 Man",className:"jsx-4262498705",children:"4 Man Room"})]})]}),(0,n.jsxs)("div",{className:"jsx-4262498705 mb-3",children:[(0,n.jsx)("label",{for:"floor",className:"jsx-4262498705 form-label login-form-label",children:"Floor*"}),(0,n.jsxs)("select",{"aria-label":"Default select example",name:"floor",className:"jsx-4262498705 form-select",children:[(0,n.jsx)("option",{selected:!0,className:"jsx-4262498705",children:"--select--"}),(0,n.jsx)("option",{value:"1st Floor",className:"jsx-4262498705",children:"1st Floor"}),(0,n.jsx)("option",{value:"2nd Floor",className:"jsx-4262498705",children:"2nd Floor"}),(0,n.jsx)("option",{value:"Ground Floor",className:"jsx-4262498705",children:"Ground Floor"})]})]}),(0,n.jsxs)("div",{className:"jsx-4262498705 mb-3",children:[(0,n.jsx)("label",{for:"specialty",className:"jsx-4262498705 form-label login-form-label",children:"Specialty*"}),(0,n.jsxs)("select",{"aria-label":"Default select example",name:"specialty",className:"jsx-4262498705 form-select",children:[(0,n.jsx)("option",{selected:!0,className:"jsx-4262498705",children:"--select--"}),(0,n.jsx)("option",{value:!0,className:"jsx-4262498705",children:"YES"}),(0,n.jsx)("option",{value:!1,className:"jsx-4262498705",children:"NO"})]})]}),j?(0,n.jsx)("p",{className:"jsx-4262498705 text-danger",children:j}):"",(0,n.jsx)("div",{className:"jsx-4262498705 mb-3 text-center",children:t?(0,n.jsx)("button",{type:"submit",disabled:!0,className:"jsx-4262498705 btn btn-primary btn-lg btn-register mt-4",children:"Loading..."}):(0,n.jsx)("button",{type:"submit",className:"jsx-4262498705 btn btn-primary btn-lg btn-register mt-4",children:"Continue"})})]})})]})})})]})]}),(0,n.jsx)("p",{className:"jsx-4262498705 recent-transaction-header",children:"All Rooms"}),(0,n.jsx)(m.Z,{rooms:S,token:O})]})})]}),(0,n.jsx)(a.default,{id:"4262498705",children:[".modal-header.jsx-4262498705{background:#EEEEEE;border-radius:5px 5px 0px 0px;}",".modal-title.jsx-4262498705{font-family:Objektiv Mk2;font-style:normal;font-weight:bold;font-size:1rem;line-height:30px;color:#585858;}"]})]})}},56076:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/rooms",function(){return t(40956)}])}},function(e){e.O(0,[1283,8180,2499,5677,4488,44,4480,9774,2888,179],(function(){return s=56076,e(e.s=s);var s}));var s=e.O();_N_E=s}]);