(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7845],{28341:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return C}});var n=r(85893),a=(r(9008),r(25675),r(41664),r(87428)),i=r(23365),s=r(67294),o=r(45697),c=r.n(o);function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var p=function(e){var t,r;function n(){var t;return(t=e.call(this)||this).handleExpired=t.handleExpired.bind(d(t)),t.handleErrored=t.handleErrored.bind(d(t)),t.handleChange=t.handleChange.bind(d(t)),t.handleRecaptchaRef=t.handleRecaptchaRef.bind(d(t)),t}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var a=n.prototype;return a.getValue=function(){return this.props.grecaptcha&&void 0!==this._widgetId?this.props.grecaptcha.getResponse(this._widgetId):null},a.getWidgetId=function(){return this.props.grecaptcha&&void 0!==this._widgetId?this._widgetId:null},a.execute=function(){var e=this.props.grecaptcha;if(e&&void 0!==this._widgetId)return e.execute(this._widgetId);this._executeRequested=!0},a.executeAsync=function(){var e=this;return new Promise((function(t,r){e.executionResolve=t,e.executionReject=r,e.execute()}))},a.reset=function(){this.props.grecaptcha&&void 0!==this._widgetId&&this.props.grecaptcha.reset(this._widgetId)},a.handleExpired=function(){this.props.onExpired?this.props.onExpired():this.handleChange(null)},a.handleErrored=function(){this.props.onErrored&&this.props.onErrored(),this.executionReject&&(this.executionReject(),delete this.executionResolve,delete this.executionReject)},a.handleChange=function(e){this.props.onChange&&this.props.onChange(e),this.executionResolve&&(this.executionResolve(e),delete this.executionReject,delete this.executionResolve)},a.explicitRender=function(){if(this.props.grecaptcha&&this.props.grecaptcha.render&&void 0===this._widgetId){var e=document.createElement("div");this._widgetId=this.props.grecaptcha.render(e,{sitekey:this.props.sitekey,callback:this.handleChange,theme:this.props.theme,type:this.props.type,tabindex:this.props.tabindex,"expired-callback":this.handleExpired,"error-callback":this.handleErrored,size:this.props.size,stoken:this.props.stoken,hl:this.props.hl,badge:this.props.badge}),this.captcha.appendChild(e)}this._executeRequested&&this.props.grecaptcha&&void 0!==this._widgetId&&(this._executeRequested=!1,this.execute())},a.componentDidMount=function(){this.explicitRender()},a.componentDidUpdate=function(){this.explicitRender()},a.componentWillUnmount=function(){void 0!==this._widgetId&&(this.delayOfCaptchaIframeRemoving(),this.reset())},a.delayOfCaptchaIframeRemoving=function(){var e=document.createElement("div");for(document.body.appendChild(e),e.style.display="none";this.captcha.firstChild;)e.appendChild(this.captcha.firstChild);setTimeout((function(){document.body.removeChild(e)}),5e3)},a.handleRecaptchaRef=function(e){this.captcha=e},a.render=function(){var e=this.props,t=(e.sitekey,e.onChange,e.theme,e.type,e.tabindex,e.onExpired,e.onErrored,e.size,e.stoken,e.grecaptcha,e.badge,e.hl,function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,["sitekey","onChange","theme","type","tabindex","onExpired","onErrored","size","stoken","grecaptcha","badge","hl"]));return s.createElement("div",l({},t,{ref:this.handleRecaptchaRef}))},n}(s.Component);p.displayName="ReCAPTCHA",p.propTypes={sitekey:c().string.isRequired,onChange:c().func,grecaptcha:c().object,theme:c().oneOf(["dark","light"]),type:c().oneOf(["image","audio"]),tabindex:c().number,onExpired:c().func,onErrored:c().func,size:c().oneOf(["compact","normal","invisible"]),stoken:c().string,hl:c().string,badge:c().oneOf(["bottomright","bottomleft","inline"])},p.defaultProps={onChange:function(){},theme:"light",type:"image",tabindex:0,size:"normal",badge:"bottomright"};var h=r(8679),u=r.n(h);function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var f={},g=0;var x="onloadcallback";var v,b,y=(v=function(){return"https://"+(("undefined"!==typeof window&&window.recaptchaOptions||{}).useRecaptchaNet?"recaptcha.net":"www.google.com")+"/recaptcha/api.js?onload="+x+"&render=explicit"},b=(b={callbackName:x,globalName:"grecaptcha"})||{},function(e){var t=e.displayName||e.name||"Component",r=function(t){var r,n;function a(e,r){var n;return(n=t.call(this,e,r)||this).state={},n.__scriptURL="",n}n=t,(r=a).prototype=Object.create(n.prototype),r.prototype.constructor=r,r.__proto__=n;var i=a.prototype;return i.asyncScriptLoaderGetScriptLoaderID=function(){return this.__scriptLoaderID||(this.__scriptLoaderID="async-script-loader-"+g++),this.__scriptLoaderID},i.setupScriptURL=function(){return this.__scriptURL="function"===typeof v?v():v,this.__scriptURL},i.asyncScriptLoaderHandleLoad=function(e){var t=this;this.setState(e,(function(){return t.props.asyncScriptOnLoad&&t.props.asyncScriptOnLoad(t.state)}))},i.asyncScriptLoaderTriggerOnScriptLoaded=function(){var e=f[this.__scriptURL];if(!e||!e.loaded)throw new Error("Script is not loaded.");for(var t in e.observers)e.observers[t](e);delete window[b.callbackName]},i.componentDidMount=function(){var e=this,t=this.setupScriptURL(),r=this.asyncScriptLoaderGetScriptLoaderID(),n=b,a=n.globalName,i=n.callbackName,s=n.scriptId;if(a&&"undefined"!==typeof window[a]&&(f[t]={loaded:!0,observers:{}}),f[t]){var o=f[t];return o&&(o.loaded||o.errored)?void this.asyncScriptLoaderHandleLoad(o):void(o.observers[r]=function(t){return e.asyncScriptLoaderHandleLoad(t)})}var c={};c[r]=function(t){return e.asyncScriptLoaderHandleLoad(t)},f[t]={loaded:!1,observers:c};var l=document.createElement("script");for(var d in l.src=t,l.async=!0,b.attributes)l.setAttribute(d,b.attributes[d]);s&&(l.id=s);var p=function(e){if(f[t]){var r=f[t].observers;for(var n in r)e(r[n])&&delete r[n]}};i&&"undefined"!==typeof window&&(window[i]=function(){return e.asyncScriptLoaderTriggerOnScriptLoaded()}),l.onload=function(){var e=f[t];e&&(e.loaded=!0,p((function(t){return!i&&(t(e),!0)})))},l.onerror=function(){var e=f[t];e&&(e.errored=!0,p((function(t){return t(e),!0})))},document.body.appendChild(l)},i.componentWillUnmount=function(){var e=this.__scriptURL;if(!0===b.removeOnUnmount)for(var t=document.getElementsByTagName("script"),r=0;r<t.length;r+=1)t[r].src.indexOf(e)>-1&&t[r].parentNode&&t[r].parentNode.removeChild(t[r]);var n=f[e];n&&(delete n.observers[this.asyncScriptLoaderGetScriptLoaderID()],!0===b.removeOnUnmount&&delete f[e])},i.render=function(){var t=b.globalName,r=this.props,n=(r.asyncScriptOnLoad,r.forwardedRef),a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(r,["asyncScriptOnLoad","forwardedRef"]);return t&&"undefined"!==typeof window&&(a[t]="undefined"!==typeof window[t]?window[t]:void 0),a.ref=n,(0,s.createElement)(e,a)},a}(s.Component),n=(0,s.forwardRef)((function(e,t){return(0,s.createElement)(r,m({},e,{forwardedRef:t}))}));return n.displayName="AsyncScriptLoader("+t+")",n.propTypes={asyncScriptOnLoad:c().func},u()(n,e)})(p),j=r(14494),w=r(61390),N=r(15553),_=r(11163),R="https://gtdo2np6f2.execute-api.us-east-1.amazonaws.com/dev";var k={setEmail:w.vV,setPassword:w.FY,setMatric:w.vu,setUser:w.av},C=(0,j.$j)((function(e){return{userInfo:e.main}}),k)((function(e){var t=(0,s.useState)(null),r=t[0],o=t[1],c=(0,s.useState)(null),l=c[0],d=c[1],p=(0,s.useState)(null),h=p[0],u=p[1],m=(0,s.useState)(null),f=m[0],g=m[1],x=(0,s.useState)(!1),v=x[0],b=x[1],j=(0,s.useState)(null),w=j[0],k=j[1],C=(0,s.useState)(!1),S=C[0],E=C[1],L=e.setEmail,O=e.setPassword,I=e.setMatric,P=e.setUser,q=e.userInfo,T=q.room_type,U=q.room_type_year;(0,s.useEffect)((function(){T&&U||_.default.push("/")}),[]);var A=(0,s.createRef)();return(0,n.jsxs)(a.Z,{children:[(0,n.jsx)(i.Z,{}),(0,n.jsx)("div",{className:"login-section",children:(0,n.jsxs)("div",{className:"row",children:[(0,n.jsx)("div",{className:"col-md-8",children:(0,n.jsx)("div",{className:"login-form-card text-center",children:(0,n.jsxs)("div",{className:"login-form-card-inner mx-auto",children:[(0,n.jsx)("p",{className:"register-header",children:"Start The POD lifestyle"}),(0,n.jsx)("p",{className:"login-instruction py-3 mx-auto",children:"Please set up your portal account below"}),(0,n.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),b(!0),console.log(l,h,f,R),l&&h&&f){L(l),O(h),I(f);var t={email:l,password:h,matric:f};fetch(R+"/users",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(e){console.log(e),b(!1),e.error?(b(!1),k(e.message)):(console.log(e),"user already exist"==e.message?(b(!1),k(e.message)):(P(e.data),_.default.push("/complete-details"),b(!1)))})).catch((function(e){b(!1),k(e.message)}))}else k("Please complete form and try again."),b(!1)},children:[(0,n.jsxs)("div",{className:"text-left",children:[(0,n.jsxs)("div",{className:"mb-3",children:[(0,n.jsx)("label",{for:"email",className:"form-label registration-form-label",children:"Email Address"}),(0,n.jsx)("input",{type:"email",className:"form-control form-control-lg",id:"email","aria-describedby":"usernameHelp",placeholder:"peter.ade@gmail.com",onChange:function(e){return d(e.target.value)},required:!0})]}),(0,n.jsxs)("div",{className:"mb-3",children:[(0,n.jsx)("label",{for:"exampleInputPassword1",className:"form-label registration-form-label",children:"Create Password"}),(0,n.jsx)("input",{type:"password",className:"form-control form-control-lg",id:"exampleInputPassword1",placeholder:"**************",onChange:function(e){return u(e.target.value)},required:!0})]}),(0,n.jsxs)("div",{className:"mb-3",children:[(0,n.jsx)("label",{for:"exampleInputPassword2",className:"form-label registration-form-label",children:"Confirm Password"}),(0,n.jsx)("input",{type:"password",className:"form-control form-control-lg",id:"exampleInputPassword2",placeholder:"**************",onChange:function(e){e.preventDefault(),e.target.value!=h?E(!0):E(!1)},required:!0}),S?(0,n.jsx)("p",{className:"invalid-password-message text-danger",children:"invalid password"}):""]}),(0,n.jsxs)("div",{className:"mb-3",children:[(0,n.jsx)("label",{for:"matric",className:"form-label registration-form-label",children:"School Matric Number"}),(0,n.jsx)("input",{type:"text",className:"form-control form-control-lg",id:"matric","aria-describedby":"usernameHelp",placeholder:"",onChange:function(e){return g(e.target.value)},required:!0})]}),(0,n.jsx)(y,{ref:A,sitekey:"6LclehYbAAAAAORK9uakcqGXACzGbkcqHFksZge8",onChange:function(e){e&&(o(!0),A.current.reset())}}),(0,n.jsx)("div",{className:"d-flex justify-content-between",children:(0,n.jsxs)("div",{className:"mb-3 form-check",children:[(0,n.jsx)("input",{type:"checkbox",className:"form-check-input",id:"exampleCheck1"}),(0,n.jsxs)("label",{className:"form-check-label login-instruction",for:"exampleCheck1",children:["I have read and accept the ",(0,n.jsx)("a",{href:"",className:"navbar-text-action-link",children:"Terms of Use "}),"&",(0,n.jsx)("a",{href:"https://www.thepodliving.com/privacy-policy",target:"_blank",className:"navbar-text-action-link",children:"Privacy Policy"})," "]})]})})]}),w?(0,n.jsx)("p",{className:"text-danger",children:w}):"",r?v?(0,n.jsx)("button",{type:"submit",className:"btn btn-primary btn-lg btn-register w-100 mt-4",disabled:!0,children:"Loading..."}):(0,n.jsx)("button",{type:"submit",className:"btn btn-primary btn-lg btn-register w-100 mt-4",children:"Create an account"}):(0,n.jsx)("button",{className:"btn btn-light btn-lg btn-deactivate w-100 mt-4",disabled:!0,children:"Continue"}),(0,n.jsx)("p",{className:"login-instruction-4 text-left",children:"To confirm your room, you will need your credit/debit card or be able to make a direct bank account transfer for your allocation advance payment. "})]})]})})}),(0,n.jsxs)("div",{className:"col-md-4",children:[(0,n.jsx)("div",{className:"apply-room-card ps-2",children:(0,n.jsxs)("div",{className:"d-flex justify-content-start",children:[(0,n.jsx)("p",{className:"mb-0",children:(0,n.jsx)("img",{src:"/img/Bed.png",width:"50",alt:"bedroom icon"})}),(0,n.jsx)("p",{className:"apply-room-text",children:"Manage accomodation"})]})}),(0,n.jsxs)("div",{className:"text-center pt-4",children:[(0,n.jsx)("p",{className:"login-instruction-2",children:"Rooms available"}),(0,n.jsxs)("div",{className:"row",children:[(0,n.jsxs)("div",{className:"col-4",children:[(0,n.jsx)("img",{src:"/img/cutlery.png",width:"70",alt:""}),(0,n.jsx)("p",{className:"login-instruction-3",children:"One-man"})]}),(0,n.jsxs)("div",{className:"col-4",children:[(0,n.jsx)("img",{src:"/img/parking.png",width:"70",alt:""}),(0,n.jsx)("p",{className:"login-instruction-3",children:"Two-man"})]}),(0,n.jsxs)("div",{className:"col-4",children:[(0,n.jsx)("img",{className:"room-deactivated",src:"/img/parking-2.png",width:"70",alt:""}),(0,n.jsx)("p",{className:"login-instruction-3",children:"Four-man"})]})]})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"register-requirements-header pt-3",children:"Required Registration Documents"}),(0,n.jsxs)("p",{className:"register-requirements-text",children:[(0,n.jsx)("span",{className:"pe-1",children:(0,n.jsx)("img",{src:"/img/req-icon.png",width:"15",alt:"requirement icon"})}),"School Matric Number"]}),(0,n.jsxs)("p",{className:"register-requirements-text",children:[(0,n.jsx)("span",{className:"pe-1",children:(0,n.jsx)("img",{src:"/img/req-icon.png",width:"15",alt:"requirement icon"})}),"Passport Photograph"]}),(0,n.jsxs)("p",{className:"register-requirements-text",children:[(0,n.jsx)("span",{className:"pe-1",children:(0,n.jsx)("img",{src:"/img/req-icon.png",width:"15",alt:"requirement icon"})}),"Signed Agreement"]})]})]})]})}),(0,n.jsx)(N.Z,{})]})}))},73834:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/validate-registration",function(){return r(28341)}])}},function(e){e.O(0,[1283,5677,454,9774,2888,179],(function(){return t=73834,e(e.s=t);var t}));var t=e.O();_N_E=t}]);